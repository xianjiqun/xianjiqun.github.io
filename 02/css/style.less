body {
	width: 100%;
	height: 100vh;
	margin: 0;
	box-sizing: border-box;
	// background-image: linear-gradient(120deg, rgba(50, 150, 100, 0.8), rgba(0, 0, 0, 0)),
	// 	linear-gradient(240deg, rgba(150, 50, 50, 0.8), rgba(0, 0, 0, 0));
	padding: 150px;
	perspective: 1500px;
}

.stage {
	width: 300px;
	height: 500px;
	
	margin: 0 auto;
	position: relative;
	transform-style: preserve-3d;
	border-radius: 15px;
	transition: all 0.3s;
	transform-origin: 50% 50% 150px;
	perspective: 1500px;

	.mask-layout() {
		content: "";
		display: block;
		position: absolute;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;

		// background: url('./600x600.jpg');

		border-radius: 15px;
	}

	&::before {
		.mask-layout;
		background: rgba(0, 0, 0, 0.15);
		z-index: 1;
	}
	.mask {
		.mask-layout;
		background: url("../img/600x600.jpg") center;
		background-size: cover;
		z-index: 0;
		display: flex;
		flex-direction: column;
		text-align: center;
		justify-content: center;
		h3 {
			font-size: 36px;
			color: white;
			font-weight: bold;
			transform: translateZ(1px);
		}
		p {
			font-size: 24px;
			color: white;
			margin: 30px 0;
			transform: translateZ(1px);
		}
		.chart {
			transform: translateZ(1px);
			display: flex;
			justify-content: center;

			transform-style: preserve-3d;
			span {
				width: 30px;
				height: 30px;
				// background: red;
				margin: 15px;
				position: relative;
				transform: rotate(-45deg);
				transform-style: preserve-3d;
				i.top {
					.chart-side;
					background: white;
					transition: all 1s;
					color: black;
					text-align: center;
					line-height: 30px;
				}

				// display: block;
				.chart-side() {
					content: "1000";
					display: block;
					position: absolute;
					top: 0;
					left: 0;
					width: 100%;
					height: 100%;
					background: linear-gradient(to left, rgb(212, 212, 212), lightblue);

					transform-origin: left bottom;
					transition: all 1s;
					color: transparent;
					text-align: right;
				}
				i.left {
					.chart-side;
					width: 0;
					transform: rotateY(-90deg);
					padding-right: 20px;
				}
				i.front {
					.chart-side;
					width: 0;
					transform: rotateY(-90deg) rotateX(90deg);
				}
			}
		}
	}
	&:after {
		.mask-layout;
		background: rgb(65, 65, 65);
		transform: translateZ(-20px);
		box-shadow: 0 0 30px 0 rgba(0, 0, 0, 0.8);
	}
}

.stage.active {
	transform: rotateX(60deg);
	.mask {
		// filter: blur(2px);
		h3 {
			transform: translateZ(20px);
		}
		p {
			transform: translateZ(20px);
		}
		.chart {
			span {
				i.top {
					transform: translateZ(100px);
				}
				i.left,
				i.front {
					width: 100px;
					color: black;
				}
			}
		}
	}
}
